general:
  - name: 'ALEPH_SECRET_KEY'
    description: 'This key is used to sign and encrypt data, for example JWTs. Provide a long, unique value. A good way to generate a key is `openssl rand -hex 24`.'
  - name: 'ALEPH_FORCE_HTTPS'
    description: 'Redirects all HTTP requests to HTTPS. Automatically enabled if `ALEPH_UI_URL` starts with `https`.'
    defaultValue: 'false'
  - name: 'ALEPH_URL_SCHEME'
    description: 'URL scheme used when generating URLs. Automatically set to `https` if `ALEPH_UI_URL` starts with `https`.'
    defaultValue: 'https'
  - name: 'ALEPH_CORS_ORIGINS'
    description: 'List of allowed HTTP CORS origins. Spearate multiple values using a pipe character `|`.'
    defaultValue: '*'
  - name: 'ALEPH_API_RATE_LIMIT'
    description: 'Maximum number of API requests per minute. Applies to unauthenticated users only.'
    defaultValue: '30'
  - name: 'ALEPH_API_RATE_WINDOW'
    description: 'Window for rate limiting in minutes.'
    defaultValue: '15'
  - name: 'ALEPH_PROFILE'
    description: 'Enable request profiling.'
    defaultValue: 'false'
  - name: 'ALEPH_CACHE'
    description: 'Enable HTTP cache headers. Disabled in debug mode.'
    defaultValue: 'true'
  - name: 'ALEPH_MAINTENANCE'
    description: 'Enables read-only mode and displays a warning message.'
    defaultValue: 'false'
  - name: 'LOG_FORMAT'
    description: 'Render logs as unstructured text or in JSON format. Values are `TEXT` or `JSON`.'
    defaultValue: 'TEXT'
  - name: 'EXPORT_MAX_SIZE'
    description: 'File size limit for exports in bytes.'
    defaultValue: '1073741824'
  - name: 'EXPORT_MAX_RESULTS'
    description: 'Maximum number of results per export.'
    defaultValue: '100000'
  - name: 'ALEPH_PAGES_PATH'
    description: 'Path to a directory with markdown files used for the pages feature.'
    defaultValue: '/aleph/pages'
  - name: 'ALEPH_ROLE_INACTIVE'
    description: 'Users who haven’t logged in for more than X days are considered inactive and won’t receive notification emails.'
    defaultValue: '180'
  - name: 'ALEPH_NOTIFICATIONS_DELETE'
    description: 'Notifications older than X days are deleted.'
    defaultValue: '90'
  - name: 'FTM_COMPARE_FREQUENCIES_DIR'
    description: 'Path to a directory with pickled word frequency objects used for cross-referencing.'
    defaultValue: '/opt/ftm-compare/word-frequencies/'
  - name: 'FTM_COMPARE_MODEL'
    description: 'Path to the model used for cross-referencing.'
    defaultValue: '/opt/ftm-compare/model.pkl'
  - name: 'ALEPH_MAX_EXPAND_ENTITIES'
    description: 'Maximum number of entities to return per property when expanding entities.'
    defaultValue: '200'
  - name: 'ALEPH_RESULT_HIGHLIGHT'
    description: 'Enable highlights in search result snippets.'
    defaultValue: 'true'
  - name: 'ALEPH_XREF_SCROLL'
    description: '[Scroll timeout](https://www.elastic.co/guide/en/elasticsearch/reference/current/scroll-api.html#scroll-api-query-params) used for Elasticsearch requests during cross-referencing.'
    defaultValue: '5m'
  - name: 'ALEPH_XREF_SCROLL_SIZE'
    description: '[Scroll size](https://www.elastic.co/guide/en/elasticsearch/reference/current/scroll-api.html#scroll-api-query-params) used for Elasticsearch requests during cross-referencing.'
    defaultValue: '1000'

ui:
  - name: ALEPH_UI_URL
    description: URL where the UI will be made available.
    defaultValue: http://localhost:8080
  - name: ALEPH_APP_TITLE
    description: Title of the instance displayed in the UI.
    defaultValue: Aleph
  - name: ALEPH_LOGO
    description: URL to logo displayed in the UI.
    defaultValue: /static/logo.png
  - name: ALEPH_FAVICON
    description: URL to favicon.
    defaultValue: /static/favicon.png
  - name: ALEPH_UI_LANGUAGES
    description: List of enabled languages. Users can select their preferred language. Separate multiple values using a colon `:`.
    defaultValue: ru:es:de:en:ar:fr
  - name: ALEPH_DEFAULT_LANGUAGE
    description: Default UI language
    defaultValue: en
  - name: ALEPH_FEEDBACK_URL_DOCUMENTS
    description: External link that allows users to report problems with ingested documents. You can use `{{role_email}}` and `{{entity_url}}` placeholders which will be replaced dynamically.
  - name: ALEPH_FEEDBACK_URL_TIMELINES
    description: External link that allows useres to give feedback about the timelines feature in Aleph investigations.
  - name: ALEPH_APP_BANNER
    description: Display a static message at the top of the screen. Refer to [How to display a message banner](/developers/how-to/operations/message-banner) for details.
  - name: ALEPH_APP_MESSAGES_URL
    description: Load messages from this URL and display the most recent message at the top of the screen. Refer to [How to display a message banner](/developers/how-to/operations/message-banner) for details.

ingestors:
  - name: 'ALEPH_INGEST_PIPELINE'
    description: 'List of enabled stages. Separate multiple values using a colon `:`.'
    defaultValue: 'analyze'
  - name: 'INGESTORS_CONVERT_TIMEOUT'
    description: 'Timeout in hours for document conversions.'
    defaultValue: '7200'
  - name: 'INGESTORS_OCR_VISION_API'
    description: 'Use the Google Vision API instead of performing OCR locally using Tesseract.'
    defaultValue: 'false'
  - name: 'INGESTORS_LID_MODEL_PATH'
    description: 'Path to a fastText model used for language identification.'
    defaultValue: '/ingestors/data/lid.176.ftz'
  - name: 'INGESTORS_TYPE_MODEL_PATH'
    description: '???'
    defaultValue: '/models/model_type_prediction.ftz'
  - name: 'INGESTORS_ANALYZE_ENTITIES'
    description: 'Enable analysis of entities.'
    defaultValue: 'true'

services:
  - name: 'ALEPH_DATABASE_URI'
    description: 'Connection URI to a PostgreSQL database. This database is used to store non-entity data like collection metadata, users etc.'
    defaultValue: 'postgresql://aleph:aleph@postgres/aleph'
  - name: 'FTM_STORE_URI'
    description: 'Connection URI to a for PostgreSQL database. This database is used to store entity fragments.'
    defaultValue: 'postgresql://aleph:aleph@postgres/aleph'
  - name: 'ALEPH_ELASTICSEARCH_URI'
    description: 'ElasticSearch API endpoint'
    defaultValue: 'http://elasticsearch:9200'
  - name: 'ELASTICSEARCH_TIMEOUT'
    description: 'Timeout for ElasticSearch requests in seconds.'
    defaultValue: '60'
  - name: 'ALEPH_INDEX_REPLICAS'
    description: 'Number of index replicas. For example, `2` means that three copies of the data are maintained (primary shard + 2 replicas).'
    defaultValue: '0'
  - name: 'ALEPH_INDEX_PREFIX'
    description: 'Index prefix used in ElasticSearch queries.'
    defaultValue: 'aleph'
  - name: 'ALEPH_INDEX_WRITE'
    description: 'Index suffixes used for ElasticSearch write queries.'
    defaultValue: 'v1'
  - name: 'ALEPH_INDEX_READ'
    description: 'List of index suffixes used for ElasticSearch read queries. Separate multiple values using a colon `:`.'
    defaultValue: 'v1'
  - name: 'ALEPH_INDEX_EXPAND_CLAUSE_LIMIT'
    description: '???'
    defaultValue: '10'
  - name: 'ALEPH_INDEX_DELETE_BY_QUERY_BATCHSIZE'
    description: '???'
    defaultValue: '100'
  - name: 'REDIS_URL'
    description: 'Connection URI to a Redis database.'
    defaultValue: 'redis://redis:6379/0'
  - name: 'REDIS_EXPIRE'
    description: 'Default expiration timeout for redis keys in seconds.'
    defaultValue: '592900'

workers:
  - name: 'WORKER_RETRY'
    description: 'Default number of times failed tasks are retried.'
    defaultValue: '3'
  - name: 'WORKER_THREADS'
    description: 'Number of threads per worker.'
    defaultValue: 'Number of CPU'
  - name: 'WORKER_REPORTING'
    description: '???'
    defaultValue: 'true'

storage:
  - name: 'ARCHIVE_TYPE'
    description: 'Storage backend to use for uploads. Values are `s3` (AWS S3), `gs` (Google Cloud Storage), or `file` (local file system).'
    defaultValue: 'file'
  - name: 'ARCHIVE_PATH'
    description: 'Path to directory when using the local file system.'
    defaultValue: '/data'
  - name: 'ARCHIVE_BUCKET'
    description: 'Bucket name used for uploads when using AWS S3 or Google Cloud Storage. '
  - name: 'PUBLICATION_BUCKET'
    description: 'Bucket name used to make files publicly available when using AWS S3 or Google Cloud Storage. '

cloud:
  - name: 'ARCHIVE_ENDPOINT_URL'
    description: 'AWS service endpoint URL.'
  - name: 'AWS_ACCESS_KEY_ID'
    description: 'AWS access key ID.'
  - name: 'AWS_SECRET_ACCESS_KEY'
    description: 'AWS secret access key.'
  - name: 'AWS_REGION'
    description: 'AWS region.'
    defaultValue: 'eu-west-1'
  - name: 'GOOGLE_APPLICATION_CREDENTIALS'
    description: 'Path to a Google Cloud service account JSON keyfile.'

auth:
  - name: 'ALEPH_ADMINS'
    description: 'List of email addresses. Users with one of these email addresses will have admin permissions.'
  - name: 'ALEPH_SYSTEM_USER'
    description: 'ID of the default system user.'
    defaultValue: 'system:aleph'
  - name: 'ALEPH_REQUIRE_LOGGED_IN'
    description: 'Require authentication in order to browser Aleph.'
    defaultValue: 'false'
  - name: 'ALEPH_PASSWORD_LOGIN'
    description: 'Enable password authentication. Disabled when OAuth is configured.'
    defaultValue: 'true'
  - name: 'ALEPH_SESSION_EXPIRE'
    description: 'Session expiration in seconds.'
    defaultValue: '60000'
  - name: 'ALEPH_ROLE_BLOCKED_MESSAGE'
    description: 'Message that is displayed when a blocked user tries to log in.'
    defaultValue: 'Your account has been blocked.'
  - name: 'ALEPH_ROLE_BLOCKED_LINK'
    description: 'Target of the link displayed below the message that is displayed when a blocked user tries to log in. You can use this to link further information on what users can do if their account has been blocked etc.'
    defaultValue: 'None'
  - name: 'ALEPH_ROLE_BLOCKED_LINK_LABEL'
    description: 'Label of the link that is displayed when a blocked user tries to log in.'
    defaultValue: 'None'

oauth:
  - name: 'ALEPH_OAUTH'
    defaultValue: 'false'
  - name: 'ALEPH_OAUTH_MIGRATE_SUB'
    defaultValue: 'false'
  - name: 'ALEPH_OAUTH_HANDLER'
    defaultValue: 'oidc'
  - name: 'ALEPH_OAUTH_KEY'
  - name: 'ALEPH_OAUTH_SECRET'
  - name: 'ALEPH_OAUTH_SCOPE'
    defaultValue: 'openid email provider'
  - name: 'ALEPH_OAUTH_AUDIENCE'
  - name: 'ALEPH_OAUTH_METADATA_URL'
  - name: 'ALEPH_OAUTH_TOKEN_METHOD'
    defaultValue: 'POST'
  - name: 'ALEPH_OAUTH_ADMIN_GROUP'
    defaultValue: 'superuser'

email:
  - name: 'ALEPH_MAIL_FROM'
    defaultValue: 'aleph@domain.com'
  - name: 'ALEPH_MAIL_HOST'
    defaultValue: 'localhost'
  - name: 'ALEPH_MAIL_USERNAME'
  - name: 'ALEPH_MAIL_PASSWORD'
  - name: 'ALEPH_MAIL_SSL'
    defaultValue: 'false'
  - name: 'ALEPH_MAIL_TLS'
    defaultValue: 'true'
  - name: 'ALEPH_MAIL_PORT'
    defaultValue: '465'
  - name: 'ALEPH_MAIL_DEBUG'
    defaultValue: 'false'

featureFlags:
  - name: ALEPH_ENABLE_EXPERIMENTAL_BOOKMARKS_FEATURE
    description: Enable experimental bookmarks feature. Bookmarks are stored client-side and users may accidentally delete them when clearing browser data.
    defaultValue: 'false'

monitoring:
  - name: 'SENTRY_DSN'
    description: 'Sentry DSN. Refer to the [Sentry documentation](https://docs.sentry.io/platforms/python/configuration/options/#common-options) for details.'
  - name: 'SENTRY_ENVIRONMENT'
    description: 'Sentry environment. Refer to the [Sentry documentation](https://docs.sentry.io/platforms/python/configuration/options/#common-options) for details.'
  - name: 'SENTRY_CAPTURE_PROCESSING_EXCEPTIONS'
    description: 'Report exceptions that occur during processing of uploaded files to Sentry. Enable this with care as it can easily eat up the Sentry event quota if you upload a lot of files.'
    defaultValue: 'false'
  - name: 'PROMETHEUS_ENABLED'
    description: 'Enable Prometheus metrics. Refer to [How to set up Prometheus metrics](/developers/how-to/operations/prometheus) for details.'
    defaultValue: 'false'
  - name: 'PROMETHEUS_PORT'
    description: 'Port for Prometheus metrics endpoint'
    defaultValue: '9100'

development:
  - name: 'ALEPH_DEBUG'
    description: 'Enable the Flask debug mode.'
    defaultValue: 'false'
  - name: 'ALEPH_SINGLE_USER'
    description: 'Disables authentication and authorization and automatically logs anyone in with admin permissions.'
    defaultValue: 'false'
